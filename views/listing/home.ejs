<% layout('/layouts/boilerplate')%>

<%=success%>

<style>
 .taxy {
  display: flex;
  align-items: center;
  gap: 10px; /* Space between switch and label */
  justify-content: flex-end; /* Moves content to right if needed */
  margin: 10px 0;
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: 14px;
  color: #333;
  margin-right:1.5rem;
}

/* Optional: make switch bigger */
.taxy .form-check-input {
  width: 50px;
  height: 28px;
  cursor: pointer;
}

/* Optional: smooth toggle animation */
.taxy .form-check-input:checked {
  background-color: #ff385c; /* Airbnb-style pink */
  border-color: #ff385c;
}

/* Label styling */
.taxy .form-check-label {
  cursor: pointer;
}
.tax-toggle-container {
    display: flex; /* Makes the container a flexbox */
    justify-content: flex-end; /* Pushes content to the right (end) */
    align-items: center; /* Vertically centers the switch */
    /* You may need to adjust the width and margin/padding based on your layout */
    width: 100%; 
}
.right-aligned-switch {
    margin-left: auto; /* Pushes the element to the far right */
}


.ajay{
  
  margin-left:40px;
  display:inline;
}
.bachi2{
  display:flex;
  justify-content:flex-start;
  align-items:center;
  gap:10px;
  margin-top:10px;
  /* border:1px solid black; */
  border-radius:10px;
  height:30px;
  padding:5px;
}
.filters{
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 10px;
  margin-bottom:20px;
}
</style>



<div class="filters" >
  <div class="filter" data-tag="Trending"><i class="fa-solid fa-fire"></i> <span class="d-none d-sm-inline">Trending</span></div>
  <div class="filter" data-tag="Beachfront"><i class="fa-solid fa-umbrella-beach"></i> <span class="d-none d-sm-inline">Beachfront</span></div>
  <div class="filter" data-tag="Mountains"><i class="fa-solid fa-mountain"></i> <span class="d-none d-sm-inline">Mountains</span></div>
  <div class="filter" data-tag="Cabins"><i class="fa-solid fa-cabin"></i> <span class="d-none d-sm-inline">Cabins</span></div>
  <div class="filter" data-tag="City"><i class="fa-solid fa-city"></i> <span class="d-none d-sm-inline">City</span></div>
  <div class="filter" data-tag="Lakefront"><i class="fa-solid fa-water"></i> <span class="d-none d-sm-inline">Lakefront</span></div>
  <div class="filter" data-tag="Forest"><i class="fa-solid fa-tree"></i> <span class="d-none d-sm-inline">Forest</span></div>
  <div class="filter" data-tag="Arctic"><i class="fa-solid fa-snowflake"></i> <span class="d-none d-sm-inline">Arctic</span></div>
  <div class="filter" data-tag="Camping"><i class="fa-solid fa-campground"></i> <span class="d-none d-sm-inline">Camping</span></div>
  <div class="filter" data-tag="Glamping"><i class="fa-solid fa-tent"></i> <span class="d-none d-sm-inline">Glamping</span></div>
  <div class="filter" data-tag="Pool"><i class="fa-solid fa-person-swimming"></i> <span class="d-none d-sm-inline">Pool</span></div>
  <div class="filter" data-tag="Cozy Stays"><i class="fa-solid fa-mug-hot"></i> <span class="d-none d-sm-inline">Cozy Stays</span></div>
</div>


<div class="d-flex justify-content-end mb-3">
  <div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
    <label class="form-check-label" for="switchCheckDefault">
      <span class="d-none d-sm-inline">Display total after taxes</span>
      <span class="d-sm-none">Tax included</span>
    </label>
  </div>
</div>


<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3">
  <% for (let list of listing) { %>
    <div class="col">
      <a href="/listing/<%=list._id %> " class="links text-decoration-none">
        <div class="card h-100">
          <div class="card-img-overlay">perfect destination</div>
          <img src="<%= list.image.url %>" class="card-img-top" alt="listing" style="height: 200px; object-fit: cover;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= list.title %></h5>
            <p class="card-text flex-grow-1"><%= list.description %></p>
            <p class="card-text mb-0">
              &#8377;<%= list.price ? list.price.toLocaleString("en-IN") : "N/A" %>
              <i class="gst"> &nbsp; &nbsp;   +18% GST </i>
            </p>   
          </div>
        </div>
      </a>
    </div>
  <%}%>
</div>
<%- include("../includes/chatbot.ejs")%>


<script>
  const switchCheckDefault = document.getElementById('switchCheckDefault');
  switchCheckDefault.addEventListener("click",()=>{
    const gst = document.getElementsByClassName('gst');
    for(info of gst){
      if(switchCheckDefault.checked){
        info.style.display = 'inline';
      }else{
        info.style.display = 'none';
      }
    }
  });
  // switchCheckDefault.checked = false;
  // const gst = document.getElementsByClassName('gst');
  // for(info of gst){
  //   info.style.display = 'none';
  // }

</script>


